(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{7773:(e,t,n)=>{Promise.resolve().then(n.bind(n,2158)),Promise.resolve().then(n.bind(n,1362))},2158:(e,t,n)=>{"use strict";n.d(t,{AgentsGraph:()=>m});var r=n(5468),o=n(1362),i=n(8784),s=n(6689),d=n(309),l=n.n(d);let a=new(l()).graphlib.Graph().setDefaultEdgeLabel(()=>({})),u=async(e,t,n)=>{a.setGraph({rankdir:n.direction,nodesep:n.spacing[0],ranksep:n.spacing[1]});let r=e.map(e=>e.id);for(let t of(a.nodes().forEach(e=>{r.includes(e)||a.removeNode(e)}),e)){var o,i,s,d;a.setNode(t.id,{width:null!==(s=null===(o=t.measured)||void 0===o?void 0:o.width)&&void 0!==s?s:0,height:null!==(d=null===(i=t.measured)||void 0===i?void 0:i.height)&&void 0!==d?d:0})}for(let e of t)a.setEdge(e.source,e.target);return l().layout(a),{nodes:e.map(e=>{var t,n,r,o;let{x:i,y:s}=a.node(e.id),d={x:i-(null!==(r=null===(t=e.measured)||void 0===t?void 0:t.width)&&void 0!==r?r:0)/2,y:s-(null!==(o=null===(n=e.measured)||void 0===n?void 0:n.height)&&void 0!==o?o:0)/2};return{...e,position:d}}),edges:t}};var g=function(e){return e.TopBottom="TB",e.LeftRight="LR",e.RightLeft="RL",e.BottomTop="BT",e}({});let h=(e,t)=>c(e.nodes,t.nodes)&&v(e.edges,t.edges),c=(e,t)=>{if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){var n,r,o,i;let d=e[s],l=t[s];if(!l)return!1;if(d.resizing||d.dragging)break;if((null===(n=d.measured)||void 0===n?void 0:n.width)!==(null===(r=l.measured)||void 0===r?void 0:r.width)||(null===(o=d.measured)||void 0===o?void 0:o.height)!==(null===(i=l.measured)||void 0===i?void 0:i.height))return!1}return!0},v=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.source!==o.source||r.target!==o.target||(null==r?void 0:r.sourceHandle)!==(null==o?void 0:o.sourceHandle)||(null==r?void 0:r.targetHandle)!==(null==o?void 0:o.targetHandle))return!1}return!0},f=e=>{let{setNodes:t,setEdges:n}=(0,o.VH)(),r=(0,o.Bu)(),d=(0,o.Pj)(e=>({nodes:e.nodes,edges:e.edges}),h);(0,i.useEffect)(()=>{r&&0!==d.nodes.length&&(async()=>{let r=d.nodes.map(e=>({...e})),o=d.edges.map(e=>({...e})),{nodes:i,edges:l}=await u(r,o,e);for(let t of i)t.style={...t.style,opacity:1},t.sourcePosition=function(e){switch(e){case"TB":return s.yX.Bottom;case"BT":return s.yX.Top;case"LR":return s.yX.Right;case"RL":return s.yX.Left}}(e.direction),t.targetPosition=function(e){switch(e){case"TB":return s.yX.Top;case"BT":return s.yX.Bottom;case"LR":return s.yX.Left;case"RL":return s.yX.Right}}(e.direction);for(let e of o)e.style={...e.style,opacity:1};t(i),n(l)})()},[r,d,e,t,n])},p={direction:g.TopBottom,spacing:[100,100]},m=e=>{let{initialNodes:t,initialEdges:n}=e,[s,d]=(0,i.useState)(t),[l,a]=(0,i.useState)(n),u=(0,i.useCallback)(e=>d(t=>(0,o._0)(e,t)),[]),g=(0,i.useCallback)(e=>a(t=>(0,o.zW)(e,t)),[]);return f(p),(0,r.jsx)("div",{className:"h-full","data-testid":"agents-graph",children:(0,r.jsxs)(o.Gc,{nodes:s,edges:l,onNodesChange:u,onEdgesChange:g,colorMode:"dark",fitView:!0,children:[(0,r.jsx)(o.VS,{}),(0,r.jsx)(o.H2,{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[97,784,309,867,143,358],()=>t(7773)),_N_E=e.O()}]);